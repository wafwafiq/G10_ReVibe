{% extends "base.html" %}

{% block title %}Dashboard - ReVibe{% endblock %}

{% block content %}
<div class="dashboard">
    <!-- Welcome Section -->
    <div class="welcome-section">
        <h1 class="welcome-title">Welcome to ReVibe!</h1>
        <p class="welcome-subtitle">Your MMU Community Marketplace</p>
    </div>

    <!-- Quick Stats -->
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-number">150+</div>
            <div class="stat-label">Active Items</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">75+</div>
            <div class="stat-label">Happy Users</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">25+</div>
            <div class="stat-label">Items Sold Today</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">10+</div>
            <div class="stat-label">Categories</div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions">
        <h2 class="section-title">Quick Actions</h2>
        <div class="action-grid">
            <a href="{{ url_for('views.posts') }}" class="action-card">
                <div class="action-icon">üìù</div>
                <h3>Sell an Item</h3>
                <p>List your item for sale or exchange</p>
                <span class="action-arrow">‚Üí</span>
            </a>
            
            <a href="{{ url_for('views.catalog') }}" class="action-card">
                <div class="action-icon">üîç</div>
                <h3>Browse Items</h3>
                <p>Discover items from the MMU community</p>
                <span class="action-arrow">‚Üí</span>
            </a>
            
            <a href="{{ url_for('views.map') }}" class="action-card">
                <div class="action-icon">üó∫Ô∏è</div>
                <h3>Explore Map</h3>
                <p>Find items near your location on campus</p>
                <span class="action-arrow">‚Üí</span>
            </a>
            
            <a href="{{ url_for('views.chats') }}" class="action-card">
                <div class="action-icon">üí¨</div>
                <h3>Messages</h3>
                <p>Check your conversations with buyers/sellers</p>
                <span class="action-arrow">‚Üí</span>
            </a>
        </div>
    </div>

    <!-- Recent Activity -->
    <div class="recent-activity">
        <h2 class="section-title">Recent Listings</h2>
        <div class="activity-list">
            <!-- Dynamic content - Wafiq will replace this with database data -->
            {% if recent_items %}
                {% for item in recent_items %}
                <div class="activity-item">
                    <div class="activity-icon">{{ item.icon or 'üì¶' }}</div>
                    <div class="activity-content">
                        <h4>{{ item.name }}</h4>
                        <p>{{ item.category }} ‚Ä¢ RM {{ item.price }} ‚Ä¢ Posted by @{{ item.seller }}</p>
                        <span class="activity-time">{{ item.time_ago }}</span>
                    </div>
                    <div class="activity-status {{ item.status }}">{{ item.status.title() }}</div>
                </div>
                {% endfor %}
            {% else %}
                <!-- Fallback content when no items exist -->
                <div class="activity-item">
                    <div class="activity-icon">üì¶</div>
                    <div class="activity-content">
                        <h4>Welcome to ReVibe!</h4>
                        <p>No items posted yet. Be the first to list something!</p>
                        <span class="activity-time">Start selling today</span>
                    </div>
                    <div class="activity-status active">Ready</div>
                </div>
            {% endif %}
        </div>
        
        <div class="view-all">
            <a href="{{ url_for('views.catalog') }}" class="btn btn-secondary">View All Items</a>
        </div>
    </div>
</div>
{% endblock %}