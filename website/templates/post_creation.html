{% extends 'base.html' %}

{% block title %}Post New Item - ReVibe{% endblock %}

{% block content %}
<div class="post-creation-page">
    <div class="post-header">
        <h1 class="page-title">Post New Item</h1>
        <p class="page-subtitle">Exchamge your item</p>
    </div>

    <form method="POST" enctype="multipart/form-data" class="post-form">
        <!-- CSRF_TOKEN_PLACEHOLDER -->
        
        <!-- Upload images -->
        <div class="form-section">
            <h3 class="section-title">📸 Photos</h3>
            <div class="image-upload-container">
                <input type="file" id="item-images" name="item_images" accept="image/*" class="image-input">
                <label for="item-images" class="image-upload-label">
                    <div class="upload-icon">📷</div>
                    <p>upload photos</p>
                    <small>Upload up to a photo (JPG, PNG, max 10MB each)</small>
                </label>
                <div class="image-preview-container">
                </div>
            </div>
        </div>

        <!-- Basic info -->
        <div class="form-section">
            <h3 class="section-title">📦 Item Details</h3>
            
            <div class="form-group">
                <label for="item-title" class="form-label">Item Title *</label>
                <input 
                    type="text" 
                    id="item-title" 
                    name="item_title" 
                    class="form-input" 
                    required
                    maxlength="100"
                >
                <small class="form-note">Be specific and descriptive</small>
            </div>

            <div class="form-group">
                <label for="item-description" class="form-label">Description *</label>
                <textarea 
                    id="item-description" 
                    name="item_description" 
                    class="form-input" 
                    required
                    rows="10"
                    maxlength="1000"
                ></textarea>
                <small class="form-note">Include condition details, what's included, and any defects</small>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="item-price" class="form-label">Price (RM) *</label>
                    <input 
                        type="number" 
                        id="item-price" 
                        name="item_price" 
                        class="form-input" 
                        required
                        min="0"
                        step="0.01"
                        max="99999.99"
                    >
                    <small class="form-note">Set a fair price based on condition</small>
                </div>

                <div class="form-group">
                    <label for="item-category" class="form-label">Category *</label>
                    <select id="item-category" name="item_category" class="form-select" required>
                        <option value="">Select Category</option>
                        <option value="books">Books</option>
                        <option value="electronics">Electronics</option>
                        <option value="furniture"> Furniture</option>
                        <option value="clothing">Clothing</option>
                        <option value="sports">Sports</option>
                        <option value="kitchen"> Kitchen</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Condition & Location -->
        <div class="form-section">
            <h3 class="section-title">📍 Condition & Location</h3>
            
            <div class="form-group">
                <label class="form-label">Item Condition *</label>
                <div class="condition-options">
                    <label class="condition-option">
                        <input type="radio" name="item_condition" value="new" required>
                        <span class="condition-label">
                            <strong>New</strong>
                            <small>Brand new, unused, with original packaging</small>
                        </span>
                    </label>
                    <label class="condition-option">
                        <input type="radio" name="item_condition" value="good" required>
                        <span class="condition-label">
                            <strong>Good</strong>
                            <small>Used but well maintained, minor wear</small>
                        </span>
                    </label>
                    <label class="condition-option">
                        <input type="radio" name="item_condition" value="fair" required>
                        <span class="condition-label">
                            <strong>Fair</strong>
                            <small>Shows signs of use, may have defects</small>
                        </span>
                    </label>
                </div>
            </div>

            <div class="form-group">
                <label for="item-location" class="form-label">Pickup Location *</label>
                <select id="item-location" name="item_location" class="form-select" required>
                    <option value="">Select pickup location</option>
                    
                    <!-- MMU Locations -->
                    <optgroup label="📍 MMU Cyberjaya Locations">
                        <option value="fom">🏫 Faculty of Management (FOM)</option>
                        <option value="foe">🏫 Faculty of Engineering (FOE)</option>
                        <option value="fci">🏫 Faculty of Computer and Informatics (FCI)</option>
                        <option value="fcm">🏫 Faculty of Creative Multimedia (FCM)</option>
                        <option value="library">📚 MMU Library</option>
                        <option value="dewan_tun_caunselor">🎓 DTC entrance </option>
                        <option value="learning_point">🚪LP Main Entrance</option>
                        <option value="hostel_HB1">🏠 HB1 LOBBY</option>
                        <option value="hostel_HB2">🏠 HB2 LOBBY</option>
                        <option value="hostel_HB3">🏠 HB3 LOBBY</option>
                        <option value="hostel_HB4">🏠 HB4 LOBBY</option>
                    </optgroup>
                </select>
                <small class="form-note">Choose specific location for easy meetup</small>
            </div>
        <!-- Contact Information -->
        <div class="form-section">
            <h3 class="section-title">📞Contact</h3>
            <div class="contact-info-note">
                <p>✅ Buyers will contact you through ReVibe's secure messaging system</p>
                <p>✅ Your email will be shared when someone shows genuine interest</p>
                <p>✅ Meet safely in public campus locations</p>
            </div>
        </div>

        <!-- Form Actions -->
        <div class="form-actions">
            <button type="button" class="btn-secondary" onclick="history.back()">Cancel</button>
            <button type="submit" class="btn-primary">Post My Item</button>
        </div>
    </form>
</div>
{% endblock %}